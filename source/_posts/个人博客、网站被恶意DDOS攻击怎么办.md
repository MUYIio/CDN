---
title: 个人博客、网站被恶意DDOS攻击怎么办
top: false
cover: false
toc: true
mathjax: true
date: 2020-07-05 23:53:34
password:
summary: 几天前我的博客遭受DDOS攻击，攻击次数高达85万次，记录一下我处理的过程。
tags: 
- 随笔
categories:
- DDOS
---





**起因**：几天前我的博客遭受DDOS攻击，攻击次数高达85万次，腾讯云COS加CDN欠费400，作为一个小白碰到有点不知所措，所以记录一下我处理的过程。

![](00.png)



首先，我的网站Page在Github和TencentYun，同时托管在服务器上，之前觉得腾讯云COS够快就没使用GitHub免费图床（付钱还有风险）。



### 拒绝服务攻击（DDoS）

DDoS(Distributed Denial of Service),即分布式拒绝服务攻击,是目前最为强大、最难以防御的攻击方式之一。要理解DDos,得先从DoS说起。

最基本的DoS攻击就是利用合理的客户端请求来占用过多的服务器资源,从而使合法用户无法得到服务器的响应。DDoS攻击手段是在传统的DoS攻击基础之上产生的一类攻击方式,传统的DoS攻击一般是采用一对一方式的,当攻击目标CPU速度、内存或者网络带宽等等各项性能指标不高的情况下,它的效果是明显的,但随着计算机与网络技术的发展,计算机的处理能力显著增加,内存不断增大,同时也出现了千兆级别的网络,这使得DoS攻击逐渐失去效果。这时候分布式拒绝服务攻击手段(DDoS)便应运而生了。你理解了DoS攻击以后, DDoS的原理就非常简单了,它指的是攻击者借助公共网络,将数量庞大的计算机设备联合起来作为 攻击平台,对一个或多个目标发动攻击,从而达到瘫痪目标主机的目的。通常,在攻击开始前,攻击者会提前控制大量的用户计算机,称之为“肉鸡”,并通过指令使大量的肉鸡在同一时刻对某个主机进行访问,从而达到瘫痪目标主机的目的。

DDoS的攻击有很多种类型,如依赖蛮力的ICMP Flood、UDP Flood等等,随着硬件性能的 提升,需要的机器规模越来越大,组织大规模的攻击越来越困难,现在已经不常见,还有就是依赖协议特征以及具体的软件漏洞进行的攻击,如Slowloris攻击,Hash碰撞攻击等等,这类攻击主要利用协议以及软件漏洞发起攻击,需要在特定环境下才会出现,更多的攻击者采用的是前面两种的混合方式,即利用了协议、系统的缺陷,又具备了海量的流量, 如SYN Flood、DNS Query Flood等等。



### 这里再说一下另外一种CC攻击

CC(Challenge Collapsar)攻击属于DDos的一种,是基于应用层HTTP协议 发起的DDos攻击,也被称为HTTP Flood。

CC攻击的原理是这样的,攻击者通过控制的大量“肉鸡”或者利用从互联网上搜寻的大量匿名的HTTP代理,模拟正常用户给网站发起请求直到该网站拒绝服务为止。大部分网站会通过CDN以及分布式缓存来加快服务端响应,提升网站的吞吐量,而这些精心构造的HTTP请求往往有意避开这些缓存,需要进行多次DB查询操作或者是一次请求返回大量的数据,加速系统 资源消耗,从而拖垮后端的业务处理系统,甚至连相关存储以及日志收集系统也无法幸免。



## 1】-

当我知道已经是第二天早上，收到腾讯云的通知，欠费400。让我一个学生措不及防，打开电脑看到COS请求85.8万次，我猜测应该是被攻击了，第一时间找了腾讯云投诉，经过腾讯云技术人员追查是DDOS攻击，查到的IP是美国的

![](01.png)







## 2】-

网上查找解决办法：

1.找12315投诉，但是现在已经不受理这类纠纷。

![](02.png)

2.找网警举报，可能是金额太低，我提交之后一直没有回复。

3.最后只能找客服了，几天的交流才给我补款。


![](04.png)

腾讯云坚持不承担损失，只知道让我去找网警去找解决办法，我倒是不明白到底谁是用户了。口口声声说是我没有设置好安全防护，腾讯云作为产品的提供方，并没有将产品Bug完善，那么谁应该承担？

**腾讯云客服以我没有设置防盗链为由，并不承担损失。总的来说，不管设置阈值预警还是防盗链，都不能完全阻止网站被盗刷，那么我设置也就没有多大意义。次数少的攻击可以阻挡，但是上万的攻击就没用了，因为就算网站返回404页面也会产生流量，攻击次数多产生的流量就多了。**


##3】-

最后给我补款：

![](05.png)

不管是阿里云还是其他平台CDN盗刷，都是可以退款，前提是不是自己蓄意而为。

**总结：**吃一堑长一智，建议做好网站的安全防护不给坏人可乘之机！